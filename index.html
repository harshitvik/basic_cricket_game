<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Game</title>
    <link rel="stylesheet" href="cricket.css">
</head>
<body>
    <h1 id="heading">Bat Ball Stump Game</h1>
<button class="choice-button" onclick="
   let computerChoice=generateComputerChoice();
  let resultMsg=getResult('Bat',computerChoice);
   let show=showResult('Bat',computerChoice,resultMsg);

    "><img src="bat.png" alt="Bat-image" class="choice-image"></button>

<button class="choice-button" onclick="
   
   computerChoice=generateComputerChoice();
    
    // const computerChoiceMsg=`computer Choice is ${computerChoice}`;
  let resultMsgg=getResult('Ball',computerChoice);
    show=showResult('Ball',computerChoice,resultMsgg);

    "><img src="ball.jpg" alt="Ball-image" class="choice-image"></button>

<button class="choice-button" onclick="
   computerChoice=generateComputerChoice();
  let resultMsggg=getResult('Stump',computerChoice);
    show=showResult('Stump',computerChoice,resultMsggg);

    "><img src="wooden-cricket-wicket.jpg" alt="Wicket-image" class="choice-image"></button>


    <h1 id="user-move"></h1>
    <h1 id="computer-move"></h1>
    <h1 id="result"></h1>
    <h1 id="score"></h1>

 <button class="reset-button" onclick="localStorage.clear();
    resetScore();">Reset</button>


    <script>
        let scoreStr=localStorage.getItem('score');
        let score;
        resetScore(scoreStr);
        function resetScore(scoreStr){
        score=scoreStr ? JSON.parse(scoreStr) : {
            Win : 0,
            Loss : 0,
            Tie : 0,
            };
        score.displayScore=function(){ 
            return `Score : Won : ${score.Win}, Loss : ${score.Loss}, Tie : ${score.Tie}`
        };
        showResult();
    }
        
       function generateComputerChoice(){
        let randomNumber=Math.random()*3;
          let computerChoice;
        if(randomNumber>0 && randomNumber<=1){
        return 'Bat';
        // console.log('Computer choice is Bat');
        }
        else if(randomNumber>1 && randomNumber<=2){
         return 'Ball';
        //  console.log('Computer choice is Ball');
         }
        else{
         return 'Stump';
        //  console.log('Computer choice is Stump');
        }
        }

function getResult(userMove, computerMove){
    if(userMove==='Bat'){
        if(computerMove=='Ball'){
        score.Win++;
          return 'User Won';
        }
        else if(computerMove=='Bat'){
            score.Tie++;
            return `It's a tie`;
        }
        else if(computerMove=='Stump'){
            score.Loss++;
            return `Computer has Won`;
        }
    }
    else if(userMove==='Ball'){
        if(computerMove==='Stump'){
            score.Win++;
            return 'User Won';
        }
        else if(computerMove==='Ball'){
            score.Tie++;
            return `It's a tie`;
        }
        else if(computerMove==='Bat'){
            score.Loss++;
            return 'Computer has Won';
        }
    }
    else{
        if(computerMove==='Bat'){
            score.Win++;
            return 'User Won';
        }
        else if(computerMove==='Stump'){
            score.Tie++;
            return `It's a tie`;
        }
        else if(computerMove==='Ball'){
            score.Loss++;
            return 'Computer has Won';
        }
    }
}

function showResult(userMove,computerMove,result){
    localStorage.setItem('score',JSON.stringify(score));

    document.querySelector('#user-move').innerText=userMove ? `You have choosen  ${userMove}` : '';

    document.querySelector('#computer-move').innerText=computerMove ? `Computer choice is ${computerMove}` : '';

    document.querySelector('#result').innerText=result || '';

    document.querySelector('#score').innerText=score.displayScore();

}



</script>
</body>
</html>
